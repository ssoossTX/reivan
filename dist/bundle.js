(()=>{"use strict";var e={clicks:0,clickPower:1,upgradeCost:10,prestigeCost:1e3,level:1,exp:0,expToNext:20,points:0,abilities:[{name:"–°–∏–ª–∞",value:0},{name:"–õ–æ–≤–∫–æ—Å—Ç—å",value:0},{name:"–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç",value:0}],diamonds:0,keys:{common:0,rare:0,epic:0},health:100,maxHealth:100,clickBonus:1,prestigeMultiplier:1,inventory:[],dungeonState:null,dungeonActive:!1},t=function(){localStorage.setItem("rpgSave",JSON.stringify(e))};function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;if(!document.querySelector(".toast-container")){var a=document.createElement("div");a.className="toast-container",document.body.appendChild(a)}var r=document.createElement("div");r.className="toast toast-".concat(t),r.textContent=e,document.querySelector(".toast-container").appendChild(r),setTimeout(function(){r.classList.add("toast-show")},10),setTimeout(function(){r.classList.remove("toast-show"),setTimeout(function(){return r.remove()},300)},n)}function a(){var e,t,n;(n={playerLevel:document.getElementById("playerLevel"),playerPoints:document.getElementById("playerPoints"),expBar:document.getElementById("expBar"),expText:document.getElementById("expText"),diamonds:document.getElementById("diamonds"),keyCommon:document.getElementById("keyCommon"),keyRare:document.getElementById("keyRare"),keyEpic:document.getElementById("keyEpic"),prestigeMultiplier:document.getElementById("prestigeMultiplier"),statDiamonds:document.getElementById("stat-diamonds"),statClicks:document.getElementById("stat-clicks"),statLevel:document.getElementById("stat-level"),statExp:document.getElementById("stat-exp")}).playerLevel&&(n.playerLevel.textContent=gameState.level),n.playerPoints&&(n.playerPoints.textContent=gameState.points),n.expBar&&(n.expBar.style.width=gameState.exp/gameState.expToNext*100+"%"),n.expText&&(n.expText.textContent="".concat(gameState.exp," / ").concat(gameState.expToNext," –æ–ø—ã—Ç–∞")),n.diamonds&&(n.diamonds.textContent=gameState.diamonds),n.keyCommon&&(n.keyCommon.textContent=gameState.keys.common),n.keyRare&&(n.keyRare.textContent=gameState.keys.rare),n.keyEpic&&(n.keyEpic.textContent=gameState.keys.epic),n.prestigeMultiplier&&(n.prestigeMultiplier.textContent=gameState.prestigeMultiplier.toFixed(2)+"x"),n.statDiamonds&&(n.statDiamonds.textContent="üíé –ê–ª–º–∞–∑—ã: ".concat(gameState.diamonds)),n.statClicks&&(n.statClicks.textContent="üñ±Ô∏è –ö–ª–∏–∫–∏: ".concat(gameState.clicks)),n.statLevel&&(n.statLevel.textContent="üèÖ –£—Ä–æ–≤–µ–Ω—å: ".concat(gameState.level)),n.statExp&&(n.statExp.textContent="üìö –û–ø—ã—Ç: ".concat(gameState.exp," / ").concat(gameState.expToNext)),updateInventory(),e=document.getElementById("healthInner"),t=document.getElementById("healthLabel"),e&&(e.style.width=Math.max(0,Math.min(gameState.health,gameState.maxHealth))/gameState.maxHealth*100+"%"),t&&(t.textContent="–ó–¥–æ—Ä–æ–≤—å–µ: ".concat(gameState.health," / ").concat(gameState.maxHealth)),gameState.dungeonActive&&renderDungeonUI()}var r=[{name:"–û–±—ã—á–Ω—ã–π –∫–µ–π—Å",price:50,key:"common",loot:[{name:"–ó–µ–ª—å–µ –ª–µ—á–µ–Ω–∏—è",rarity:"–û–±—ã—á–Ω—ã–π",chance:60,effect:"–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ"},{name:"–ú–∞–ª—ã–π –∫–ª–∏–∫-–±–æ–Ω—É—Å",rarity:"–û–±—ã—á–Ω—ã–π",chance:25,effect:"–î–æ–±–∞–≤–ª—è–µ—Ç 10 –∫–ª–∏–∫–æ–≤"},{name:"–ö–Ω–∏–≥–∞ –æ–ø—ã—Ç–∞",rarity:"–û–±—ã—á–Ω—ã–π",chance:10,effect:"–î–∞–µ—Ç –æ–ø—ã—Ç"},{name:"–†–µ–¥–∫–∏–π —ç–ª–∏–∫—Å–∏—Ä",rarity:"–†–µ–¥–∫–∏–π",chance:4,effect:"–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ"},{name:"–†–µ–¥–∫–∏–π –∫–ª–∏–∫-–±–æ–Ω—É—Å",rarity:"–†–µ–¥–∫–∏–π",chance:1,effect:"–î–æ–±–∞–≤–ª—è–µ—Ç 50 –∫–ª–∏–∫–æ–≤"}]},{name:"–†–µ–¥–∫–∏–π –∫–µ–π—Å",price:200,key:"rare",loot:[{name:"–ë–æ–ª—å—à–æ–µ –∑–µ–ª—å–µ –ª–µ—á–µ–Ω–∏—è",rarity:"–†–µ–¥–∫–∏–π",chance:50,effect:"–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ"},{name:"–ë–æ–ª—å—à–æ–π –∫–ª–∏–∫-–±–æ–Ω—É—Å",rarity:"–†–µ–¥–∫–∏–π",chance:30,effect:"–î–æ–±–∞–≤–ª—è–µ—Ç 50 –∫–ª–∏–∫–æ–≤"},{name:"–ö–Ω–∏–≥–∞ –æ–ø—ã—Ç–∞",rarity:"–†–µ–¥–∫–∏–π",chance:10,effect:"–î–∞–µ—Ç –æ–ø—ã—Ç"},{name:"–≠–ø–∏—á–µ—Å–∫–∏–π —ç–ª–∏–∫—Å–∏—Ä",rarity:"–≠–ø–∏—á–µ—Å–∫–∏–π",chance:8,effect:"–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ"},{name:"–≠–ø–∏—á–µ—Å–∫–∏–π –∫–ª–∏–∫-–±–æ–Ω—É—Å",rarity:"–≠–ø–∏—á–µ—Å–∫–∏–π",chance:2,effect:"–î–æ–±–∞–≤–ª—è–µ—Ç 200 –∫–ª–∏–∫–æ–≤"}]},{name:"–≠–ø–∏—á–µ—Å–∫–∏–π –∫–µ–π—Å",price:1e3,key:"epic",loot:[{name:"–≠–ø–∏—á–µ—Å–∫–æ–µ –∑–µ–ª—å–µ –ª–µ—á–µ–Ω–∏—è",rarity:"–≠–ø–∏—á–µ—Å–∫–∏–π",chance:60,effect:"–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ"},{name:"–≠–ø–∏—á–µ—Å–∫–∏–π –∫–ª–∏–∫-–±–æ–Ω—É—Å",rarity:"–≠–ø–∏—á–µ—Å–∫–∏–π",chance:25,effect:"–î–æ–±–∞–≤–ª—è–µ—Ç 200 –∫–ª–∏–∫–æ–≤"},{name:"–ö–Ω–∏–≥–∞ –æ–ø—ã—Ç–∞",rarity:"–≠–ø–∏—á–µ—Å–∫–∏–π",chance:10,effect:"–î–∞–µ—Ç –æ–ø—ã—Ç"},{name:"–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç",rarity:"–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π",chance:5,effect:"–î–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å"}]}];function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function c(n){var a=e.inventory.find(function(e){return e.name===n});if(!a)return!1;var c=function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw c}}}}(r);try{for(n.s();!(t=n.n()).done;){var a=t.value.loot.find(function(t){return t.name===e});if(a)return a.effect}}catch(e){n.e(e)}finally{n.f()}return null}(n);return!!c&&(function(t){if(t.includes("–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç"))t.includes("–ë–æ–ª—å—à–æ–µ")?e.health=Math.min(e.maxHealth,e.health+50):t.includes("–≠–ø–∏—á–µ—Å–∫–æ–µ")?e.health=e.maxHealth:e.health=Math.min(e.maxHealth,e.health+30);else if(t.includes("–∫–ª–∏–∫-–±–æ–Ω—É—Å")){var n=t.includes("200")?200:t.includes("50")?50:10;e.clicks+=n}}(c),a.count--,a.count<=0&&(e.inventory=e.inventory.filter(function(e){return e.name!==n})),t(),!0)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}document.addEventListener("DOMContentLoaded",function(){var r,o,l,s;(r=JSON.parse(localStorage.getItem("rpgSave")))&&Object.assign(e,r),function(){var e=document.getElementById("sidebar"),t=document.getElementById("openSidebar"),n=document.getElementById("closeSidebar");t&&e&&t.addEventListener("click",function(){e.classList.add("open")}),n&&e&&n.addEventListener("click",function(){e.classList.remove("open")});var a=document.querySelectorAll(".menu-list li"),r=document.querySelectorAll(".tab");a.forEach(function(t){t.addEventListener("click",function(){a.forEach(function(e){return e.classList.remove("active")}),r.forEach(function(e){return e.classList.remove("active")}),t.classList.add("active"),document.getElementById("tab-"+t.dataset.tab).classList.add("active"),e.classList.remove("open")})})}(),o=document.getElementById("clickerBtn"),l=document.getElementById("clicks"),s=document.querySelector(".upgrade-btn"),o&&o.addEventListener("click",function(){e.clicks+=e.clickPower,l&&(l.textContent=e.clicks),a(),t()}),s&&s.addEventListener("click",function(){e.clicks>=e.upgradeCost?(e.clicks-=e.upgradeCost,e.clickPower++,e.upgradeCost=Math.floor(1.5*e.upgradeCost),s.textContent="–£–ª—É—á—à–∏—Ç—å (+".concat(e.clickPower,"/–∫–ª–∏–∫) ‚Äî ").concat(e.upgradeCost," –∫–ª–∏–∫–æ–≤"),a(),t(),n("–°–∏–ª–∞ –∫–ª–∏–∫–∞ —É–≤–µ–ª–∏—á–µ–Ω–∞!","success")):n("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫–ª–∏–∫–æ–≤!","error")}),document.querySelectorAll(".case-btn").forEach(function(r,o){r.addEventListener("click",function(){if(e.diamonds<caseTypes[o].price&&e.keys[caseTypes[o].key]<=0)n("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∞–ª–º–∞–∑–æ–≤ –∏–ª–∏ –∫–ª—é—á–µ–π!","error");else{e.keys[caseTypes[o].key]>0?e.keys[caseTypes[o].key]--:e.diamonds-=caseTypes[o].price;var r,c,l,s=100*Math.random(),m=0,u=null,d=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}(caseTypes[o].loot);try{for(d.s();!(r=d.n()).done;){var f=r.value;if(s<=(m+=f.chance)){u=f;break}}}catch(e){d.e(e)}finally{d.f()}u&&(c=u.name,(l=e.inventory.find(function(e){return e.name===c}))?l.count++:e.inventory.push({name:c,count:1}),n("–ü–æ–ª—É—á–µ–Ω –ø—Ä–µ–¥–º–µ—Ç: ".concat(u.name,"!"),"success")),a(),t()}})}),function(){var r=document.getElementById("abilitiesList");r&&r.addEventListener("click",function(r){if(r.target.classList.contains("ability-up")){var o=+r.target.dataset.idx;e.points>0&&(e.points--,e.abilities[o].value++,a(),t(),n("".concat(e.abilities[o].name," —É–ª—É—á—à–µ–Ω–∞!"),"success"))}});var o=document.getElementById("inventoryList");o&&o.addEventListener("click",function(e){e.target.classList.contains("use-item-btn")&&c(e.target.dataset.item)&&a()})}(),a()})})();